---           
layout: post
title: GardenPi: Taking care of your garden with Raspberry Pi
date: 2014-09-12 18:55:14 UTC
updated: 2014-09-12 18:55:14 UTC
comments: false
categories: 
---

I want to start collecting Raspberry Pi's based projects so that when time comes (and as they becomes financially do-able), I'll be able to build a couple of these useful ones. You know, never stop learning, never stop innovating.<br /><br />This one is not like any micro-controller based garden watering systems. It uses weather forecast (forecast.io API) to determine whether or not the watering should be done for the day! Sounds good, right?<br /><br />I don't want these to be lost when the articles got deleted or the website becomes unavailable. So, I'd a copy of the articles here and put the reference where it's due.<br /><br />Project Name : GardenPI<br />Project Reference : <b><a href="http://spin.atomicobject.com/2014/06/28/raspberry-pi-gardening/">LINK</a></b><br /><br />--------<br /><br /><div style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; margin-bottom: 22px; outline: 0px; padding: 0px; vertical-align: baseline;">Like any good “lazy programmer,” I’m always looking for ways to automate. This spring’s project: monitoring and watering my garden. I had a wifi-enabled Raspberry Pi laying around and decided to put it to good use. For this project I wanted to do better than just a glorified timer. The goal: An automated watering system that can use the weather forecast, soil, light, and temperature sensors to keep my garden looking great all summer.</div><div style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; line-height: 22px; margin-bottom: 22px; outline: 0px; padding: 0px; vertical-align: baseline;"><b>Phase 1 : Timer and Forecast-based Watering</b></div><div style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; margin-bottom: 22px; outline: 0px; padding: 0px; vertical-align: baseline;">I’ve written a simple script that wakes up at 10PM, determines the likelihood of rain, and waters accordingly. The script looks up the forecast using the&nbsp;<a href="https://developer.forecast.io/" style="background-color: transparent; border: 0px; color: #597b7c; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Forecast.io API</a>. If there is less than a 50% chance of rain, the GardenPi will water for a short duration.<span id="more-108603" style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;"></span></div><div style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; margin-bottom: 22px; outline: 0px; padding: 0px; vertical-align: baseline;">Future phases (already underway) will include sensors for temperature, soil moisture, light, and humidity. Based on that information, the GardenPi will be able to make better watering decisions. The sensor data could be made available via an onboard website or mobile application. Better sensors, form factor, time lapse, and user interface are all things that I’ll be looking at for future versions.</div><div style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; margin-bottom: 22px; outline: 0px; padding: 0px; vertical-align: baseline;">I’ve learned a lot in the last few weeks from building this project — a little bit more about basic electronics, how to solder, how to draw up schematics, and the joy of building actual gizmos that serve a purpose. I’ve also learned that I’m not the only one doing this kind of project with the Raspberry Pi; I’ve included links to other projects at the end of this post.</div><div style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; margin-bottom: 22px; outline: 0px; padding: 0px; vertical-align: baseline;"><b>Required Parts (approx. cost ~$85)</b></div><ul style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; list-style-image: initial; list-style-position: initial; margin: 0px 0px 22px 2.5em; outline: 0px; padding: 0px; vertical-align: baseline;"><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Raspberry Pi</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">USB Wifi Dongle</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">SD Card</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Soaker / Drip hose throughout the garden</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;"><a href="https://www.sparkfun.com/products/10456" style="background-color: transparent; border: 0px; color: #597b7c; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Solenoid</a>&nbsp;for turning on the soaker hose</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">A female hose swivel adapter to connect your garden hose to the solenoid</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;"><a href="http://www.digikey.com/product-detail/en/LCA701/CLA386-ND/3077642" style="background-color: transparent; border: 0px; color: #597b7c; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Relay</a>&nbsp;for switching 12V power</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">12V / Raspberry Pi power supplies</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Assorted electronics (breadboard, resistors, wires, LED)</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">High tech weather resistant case (aka medium sized Tupperware container)</li></ul><div><span style="color: #525758; font-family: Arial, sans-serif;"><span style="font-size: 15px; line-height: 22px;"><b>Schematics</b></span></span></div><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-_zLPIIoDppk/VBNAcIIF_WI/AAAAAAAABAY/A_-ahqLC9pg/s1600/basic_watering_schematic.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-_zLPIIoDppk/VBNAcIIF_WI/AAAAAAAABAY/A_-ahqLC9pg/s1600/basic_watering_schematic.png" height="531" width="640" /></a></div><div><span style="color: #525758; font-family: Arial, sans-serif;"><span style="font-size: 15px; line-height: 22px;"><b>Getting Rpi ready</b><br /></span></span></div><ol style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; list-style-image: initial; list-style-position: initial; margin: 0px 0px 22px 2.5em; outline: 0px; padding: 0px; vertical-align: baseline;"><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Install&nbsp;<a href="http://www.raspbian.org/" style="background-color: transparent; border: 0px; color: #597b7c; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Raspbian</a>&nbsp;and configure WiFi access.</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Install Ruby for root user.</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Run&nbsp;<code style="background-color: #eeeeee; border: 0px; color: #993333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 14px; margin: 0px; outline: 0px; padding: 1px 5px; vertical-align: baseline;">gem install god</code>.</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Pull the&nbsp;<a href="https://github.com/shawn42/garden_pi_waterer" style="background-color: transparent; border: 0px; color: #597b7c; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">garden_pi_waterer repository</a>&nbsp;&amp;&amp; bundle install to install dependencies.</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Modify the parameters (forecast.io API key, timing info, etc.) in&nbsp;<code style="background-color: #eeeeee; border: 0px; color: #993333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 14px; margin: 0px; outline: 0px; padding: 1px 5px; vertical-align: baseline;">environment.rb</code>.</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Build out breakout board (see schematic below).</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Connect the solenoid between water source and soaker hose, taking note of the directional arrow on the solenoid and using the adapter to connect the male end of your garden hose to the input on the solenoid.</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Power up the Pi and your 12V power supply.</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Install&nbsp;<code style="background-color: #eeeeee; border: 0px; color: #993333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 14px; margin: 0px; outline: 0px; padding: 1px 5px; vertical-align: baseline;">install/init.d</code>&nbsp;to&nbsp;<code style="background-color: #eeeeee; border: 0px; color: #993333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 14px; margin: 0px; outline: 0px; padding: 1px 5px; vertical-align: baseline;">/etc/init.d/god</code>&nbsp;and follow instructions in that file</li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Install&nbsp;<code style="background-color: #eeeeee; border: 0px; color: #993333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 14px; margin: 0px; outline: 0px; padding: 1px 5px; vertical-align: baseline;">god.conf</code>&nbsp;to&nbsp;<code style="background-color: #eeeeee; border: 0px; color: #993333; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 14px; margin: 0px; outline: 0px; padding: 1px 5px; vertical-align: baseline;">/home/pi</code></li><li style="background-color: transparent; border: 0px; margin: 0px; outline: 0px; padding: 0px; vertical-align: baseline;">Restart and enjoy.</li></ol><div style="background-color: white; border: 0px; color: #525758; font-family: Arial, sans-serif; font-size: 15px; line-height: 22px; margin-bottom: 22px; outline: 0px; padding: 0px; vertical-align: baseline;"><b>Results</b><br /><br />I’ve watered my garden with a Raspberry Pi. Success. There is a lot of room for improvement, and I’m looking forward to extending the GardenPi’s capabilities.<br /><br /></div>